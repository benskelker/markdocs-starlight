# Connect and manage workspaces

This topic describes how to
[connect](cv-terminology.htm#onboard-vs-connect) workspaces to
{% $cc_product_vars.CV-full %},
and how to troubleshoot workspace connections.

## []{#Connect}Workspace hierarchy

After the root of the platform is discovered, you can connect workspaces
at any level of the hierarchy.

Click a drop-down to see the platform hierarchy:

`<dropdown>`{=html} `<dropdownhead>`{=html}
`<dropdownhotspot>`{=html}AWS`</dropdownhotspot>`{=html}
`</dropdownhead>`{=html} `<dropdownbody>`{=html}

  Level                    AWS term
  ------------------------ ---------------------
  [Root]{.Emphasis}        Organization
  [Node]{.Emphasis}        Organizational unit
  [Workspace]{.Emphasis}   Account

  : AWS hierarchy

`</dropdownbody>`{=html} `</dropdown>`{=html} `<dropdown>`{=html}
`<dropdownhead>`{=html}
`<dropdownhotspot>`{=html}Azure`</dropdownhotspot>`{=html}
`</dropdownhead>`{=html} `<dropdownbody>`{=html}

  Level                    Azure term
  ------------------------ ------------------
  [Root]{.Emphasis}        Directory
  [Node]{.Emphasis}        Management group
  [Workspace]{.Emphasis}   Subscription

  : Azure hierarchy

`</dropdownbody>`{=html} `</dropdown>`{=html} `<dropdown>`{=html}
`<dropdownhead>`{=html} `<dropdownhotspot>`{=html}Google
Cloud`</dropdownhotspot>`{=html} `</dropdownhead>`{=html}
`<dropdownbody>`{=html}

  Level                    GCP term
  ------------------------ --------------
  [Root]{.Emphasis}        Organization
  [Node]{.Emphasis}        Folder
  [Workspace]{.Emphasis}   Project

  : Google Cloud hierarchy

`</dropdownbody>`{=html} `</dropdown>`{=html}

## []{#View}View and manage workspace connections

This section describes how to view details about onboarded workspaces,
and how to manage connections to the onboarded workspaces.

1.  In
    {% $cc_product_vars.CV-full %},
    go to [Setup \> Platform management]{.Emphasis}

2.  Click the relevant platform tile.

3.  On the platform page, look for the workspace and click to view the
    [details](#workspace-connection-details).

4.  To [connect ]{.Emphasis}to the workspace click [Connect]{.Emphasis}
    at the far right of the workspace row.

### []{#workspace-connection-details}Connection details {#connection-details .itt}

The page displays the details about each entry in the list described in
the following tables.

  Element                        Description
  ------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Discovery in progress          The initial discovery, where a root is currently being scanned for its workspaces.
  Onboarding failed              The initial connection failed and {% $cc_product_vars.CV-full %} has no permissions on this workspace.
  Waiting for stack deployment   {% $cc_product_vars.CV-full %} is waiting for permissions to be granted by the user via the AWS stack deployment process.
  Ready for connection           {% $cc_product_vars.CV-full %} has permissions over this workspace, but the workspace is currently not being monitored. The user can set {% cc_product_vars.CV-full %} to start monitoring it if there is an available license.
  Connected                      This workspace is monitored by {% $cc_product_vars.CV-full %} and regularly scanned.
  Scanning error                 Something failed while this workspace was being scanned. For example, {% $cc_product_vars.CV-full %}\'s permissions were removed, or {% cc_product_vars.CV-full %} activity was blocked by the user\'s environment. If a fix is available, the user can see it by mousing over the workspace status.

  : Status elements

+---------------------------+-------------------------------------------------+
| Element                   | Description                                     |
+===========================+=================================================+
| [Name]{.Emphasis}         | The name of the root, folder, or workspace.     |
+---------------------------+-------------------------------------------------+
| [Type]{.Emphasis}         | The hierarchy type can be one of the following: |
|                           |                                                 |
|                           | - Root                                          |
|                           |                                                 |
|                           | - Folder                                        |
|                           |                                                 |
|                           | - Workspace                                     |
+---------------------------+-------------------------------------------------+
| [Connected on]{.Emphasis} | The date and time of the connection.            |
+---------------------------+-------------------------------------------------+

: Other elements

### Workspace actions {#workspace-actions .itt}

The actions described in the following table are available for each
entry in the list.

  Action                    Description
  ------------------------- ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [Connect ]{.Emphasis}     Connect to have the workspace monitored by {% $cc_product_vars.CV-full %} and therefore regularly scanned. A connected workspace counts towards the number included in your {% cc_product_vars.CV-full %} subscription.
  [Disconnect]{.Emphasis}   When a workspace is disconnected it is no longer scanned and isn\'t counted towards the number included in your {% $cc_product_vars.CV-full %} subscription.
  [Delete ]{.Emphasis}      If a root, node, or workspace is deleted, the history is maintained. However, the root isn\'t monitored or visible.

  : Workspace actions

### Filter connections {#filter-connections .itt}

You can filter connections by:

- [Status]{.Emphasis}: select a status from the drop-down list.

- [Root level]{.Emphasis}: select an organization from the drop-down
  list.

- [Free-text search]{.Emphasis}: enter a keyword or phrase.

## Manage connection errors

If
{% $cc_product_vars.CV-full %}
is unable to scan a workspace, the app displays a connection error
either at the platform or workspace level. When available,
{% $cc_product_vars.CV-full %}
provides a short description of the error and a link to fix it.

Click a drop-down to see more information about fixing connection
errors.

`<dropdown>`{=html} `<dropdownhead>`{=html}
`<dropdownhotspot>`{=html}AWS`</dropdownhotspot>`{=html}
`</dropdownhead>`{=html} `<dropdownbody>`{=html}

To fix your AWS connection error, on the [Edit workspace
]{.Emphasis}page, edit one or more of the following fields.

  Item                                             Description
  ------------------------------------------------ ---------------------------------------------------------------------------------------------------------------------------
  [Role for organizational discovery]{.Emphasis}   Used to discover and map the organizational hierarchy and check the deployment status of the organization member account.
  [Role for IAM]{.Emphasis}                        Used to query the IAM information on the scanned account.

  : Fields available to edit

`</dropdownbody>`{=html} `</dropdown>`{=html} `<dropdown>`{=html}
`<dropdownhead>`{=html}
`<dropdownhotspot>`{=html}Azure`</dropdownhotspot>`{=html}
`</dropdownhead>`{=html} `<dropdownbody>`{=html}

To fix your Azure connection error, try generating a new secret.

To generate a new secret:

1.  Sign in to the Azure portal.

2.  Go to[ App Registration]{.Emphasis} \> [All
    applications]{.Emphasis}.

3.  Search for and select the
    {% $cc_product_vars.CV-full %}
    app. By default, the app is named [cyb-cem-app]{.Emphasis}.

4.  Go to [Certificate & secret]{.Emphasis} \>[ New client
    secret]{.Emphasis} and select [Add new secret]{.Emphasis} in the
    [Client secrets table]{.Emphasis}.

5.  Copy the [Value]{.Emphasis} of your new secret and paste it into the
    pop-up.

`</dropdownbody>`{=html} `</dropdown>`{=html}
