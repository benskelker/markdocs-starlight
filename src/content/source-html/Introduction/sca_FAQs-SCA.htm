<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../Resources/TableStyles/Standard.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1><MadCap:variable name="cc_product_vars.SCA-full" /> FAQs</h1>
        <p>This topic provides some frequently asked questions about <MadCap:variable name="cc_product_vars.SCA-short" />.</p>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>How soon after onboarding workspaces to <MadCap:variable name="cc_product_vars.CV-full" /> can I see them in <MadCap:variable name="cc_product_vars.SCA-short" /> and start setting up cloud access policies?<a name="How"></a></MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>This depends on whether you are onboarding new workspaces to <MadCap:variable name="cc_product_vars.CEM-short" />, or whether the workspaces are part of a previously onboarded cloud organization/directory; for example, if you add new accounts to a previously onboarded AWS organization.</p>
                <table style="width: 100%;caption-side: top;mc-table-style: url('../Resources/TableStyles/Standard.css');" class="TableStyle-Standard" cellspacing="0">
                    <col class="TableStyle-Standard-Column-Column1" />
                    <col class="TableStyle-Standard-Column-Column1" />
                    <thead>
                        <tr class="TableStyle-Standard-Head-Header1">
                            <th class="TableStyle-Standard-HeadE-Column1-Header1">
                                <p>Workspace</p>
                            </th>
                            <th class="TableStyle-Standard-HeadD-Column1-Header1">
                                <p>Workspace discovery and resource scan</p>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-Standard-Body-Body1">
                            <td class="TableStyle-Standard-BodyE-Column1-Body1">
                                <p><span class="Emphasis">New</span>
                                </p>
                            </td>
                            <td class="TableStyle-Standard-BodyD-Column1-Body1">
                                <p>When you onboard new workspaces, whether a standalone workspace or a full cloud organization or directory,  we immediately run a full discovery of the workspaces that you're onboarding.</p>
                                <p>Depending on the size and structure of the workspaces, it can typically take a few minutes to a couple of hours before you can start working with them in <MadCap:variable name="cc_product_vars.SCA-short" />.</p>
                            </td>
                        </tr>
                        <tr class="TableStyle-Standard-Body-Body1">
                            <td class="TableStyle-Standard-BodyB-Column1-Body1">
                                <p><span class="Emphasis">Previously onboarded</span>
                                </p>
                            </td>
                            <td class="TableStyle-Standard-BodyA-Column1-Body1">
                                <p>If structural changes are made in the cloud, for example accounts are added to an AWS organization that has been onboarded, these are picked up in <MadCap:variable name="cc_product_vars.SCA-short" /> after our scheduled discovery and scan as follows:</p>
                                <ul>
                                    <li>
                                        <p><span class="Emphasis">Discovery</span> - Once a day (every 24 hours) we run a discovery of all the onboarded workspaces in <MadCap:variable name="cc_product_vars.CV-full" />.</p>
                                        <p>This process detects structural updates in the corresponding cloud environments and updates <MadCap:variable name="cc_product_vars.CV-full" /> and <MadCap:variable name="cc_product_vars.SCA-short" /> accordingly. </p>
                                        <p>For example, if structural changes (add/delete/rename/move accounts) are made to an onboarded AWS&#160;organization, these changes are reflected in <MadCap:variable name="cc_product_vars.SCA-short" /> after the scheduled daily discovery.</p>
                                    </li>
                                </ul>
                                <ul>
                                    <li>
                                        <p><span class="Emphasis">Scan</span> - In parallel,  for all onboarded workspaces, <MadCap:variable name="cc_product_vars.SCA-short" /> directly scans the cloud environment twice a day (every 12 hours) for roles and permissions, and in the case of <MadCap:variable name="cv-shared-variables.entra-id-long" />, it also scans for resources (resource groups and resources). </p>
                                    </li>
                                </ul>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>If you don't want to wait for the scheduled discovery and scans, you can manually trigger an <MadCap:variable name="cc_product_vars.SCA-short" /> discovery, which combines both the discovery and scan, using <MadCap:variable name="cc_product_vars.SCA-short" />'s Discovery  API (<code>/policies/discovery</code>) . For more information, see <MadCap:xref href="#Is">Is there a way to manually discover and scan onboarded workspaces?</MadCap:xref></p>
                <div class="note">
                    <p>
                        <MadCap:snippetText src="discovery-scan-snippet.flsnp" /> </p>
                </div>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>Is there a way to manually discover and scan onboarded workspaces?<a name="Is"></a></MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>Yes. You can manually trigger an <MadCap:variable name="cc_product_vars.SCA-short" /> discovery using <a href="../Automation/sca_terraform-integration.htm">Terraform</a> or <MadCap:variable name="cc_product_vars.SCA-short" />'s Discovery  API (<code>/policies/discovery</code>). </p>
                <p>By default, this API:</p>
                <ul>
                    <li>
                        <p>Discovers of all the workspaces that are already onboarded to <MadCap:variable name="cc_product_vars.CEM-short" />,</p>
                    </li>
                    <li>
                        <p> Scans for roles and permissions, and in the case of <MadCap:variable name="cv-shared-variables.entra-id-long" />, it also scans for resources (resource groups and resources).</p>
                    </li>
                </ul>
                <p>  For details, see <MadCap:xref href="../Automation/sca-API-policies.htm">[%=cc_product_vars.SCA-short%] policy APIs</MadCap:xref>.</p>
                <p>Alternatively, if you only want to scan for roles and resources, and you are not concerned with structural changes in your cloud environment, you can run a scan either from the <MadCap:variable name="cc_product_vars.SCA-short" /> UI, or using the SCA API:</p>
                <ul>
                    <li>
                        <p><MadCap:variable name="cc_product_vars.SCA-short" /> UI:&#160;When creating a policy in the Create policy wizard, in the Select roles dialog box, click <span class="Emphasis">Scan again</span></p>
                    </li>
                    <li>
                        <p><MadCap:variable name="cc_product_vars.SCA-short" /> API:&#160;Send a <code>/cloud/rescan</code> API request - see <MadCap:xref href="../Automation/sca-API-cloud.htm">[%=cc_product_vars.SCA-short%] general cloud activity APIs</MadCap:xref></p>
                    </li>
                </ul>
                <div class="note">
                    <p><span class="Emphasis">Scan again</span> and <code>/cloud/rescan</code> scan the cloud environment directly.</p>
                </div>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>What is the difference between pre-defined and on-demand <MadCap:variable name="cc_product_vars.SCA-short"></MadCap:variable> policies?</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>Pre-defined policies&#160;are created manually by an administrator to address specific use cases in the organization.</p>
                <p>On-demand policies are created automatically by&#160;<MadCap:variable name="cc_product_vars.SCA-short" /> when an on-demand access request is approved. These policies are deleted when the access window of the on-demand session closes.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>How long does it take to revoke permissions from an identity after the access window closes, for example when a session with a configured length of 2 hours expires?</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p><MadCap:variable name="cc_product_vars.SCA-short" /> revokes permissions immediately after the session expires (~1 minute). However, each cloud provider has its own method for calculating and re-evaluating the active permissions for an identity, so the new (reduced) permissions may take anywhere from a few seconds to several (up to 15) minutes to become effective.</p>
                <div class="note">
                    <p>Changing or deleting a policy does not affect active sessions. Once a session has started, it continues to follow the policy that was in place at the time of initiation. Any modifications only affect future sessions.</p>
                </div>
                <div class="note">
                    <p>AWS IAM Identity Center has a known issue where it lets the identity stay connected to the management console even after permissions are revoked. The new permissions only take effect when the identity disconnects (and therefore can't connect again). <MadCap:variable name="cc_C_CyberArk.CompanyName" /> is working with AWS&#160;to resolve this issue.</p>
                </div>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot>What is the difference between standing access and zero standing permissions?</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>Standing access means that a user has permanent access to a resource, at all times.</p>
                <p>With zero standing permissions, a user has no permanent access to a resource. Instead, they request just-in-time privileged access for a particular time-bound session. Permissions are then automatically revoked when the session expires. </p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <MadCap:dropDown>
            <MadCap:dropDownHead>
                <MadCap:dropDownHotspot><a name="awsreservedsso"></a>Why doesn't <MadCap:variable name="cc_product_vars.SCA-short" /> show AWSReservedSSO* roles?</MadCap:dropDownHotspot>
            </MadCap:dropDownHead>
            <MadCap:dropDownBody>
                <p>When you create or modify policies in <MadCap:variable name="cc_product_vars.SCA-short" />, AWSReservedSSO* roles are excluded from the list of available roles.</p>
                <p>AWSReservedSSO* roles appear in an AWS account that is part of an AWS organization with AWS IAM Identity Center, and are created by AWS  to reflect permission sets. These roles are controlled by the top level of the organization  in AWS, and are only for use  by the AWS IAM&#160;Identity Center mechanism, via AWS SSO – this is why <MadCap:variable name="cc_product_vars.SCA-short" /> does not include them.</p>
                <p>In cases where an AWS account was onboarded to <MadCap:variable name="cc_product_vars.SCA-short" /> as a standalone account, while being part of an AWS organization, there may be confusion as to which AWS roles should appear in <MadCap:variable name="cc_product_vars.SCA-short" />. Due to the above reasons, AWSReservedSSO* roles are not considered standard AWS predefined roles, and do not appear in <MadCap:variable name="cc_product_vars.SCA-short" />.</p>
            </MadCap:dropDownBody>
        </MadCap:dropDown>
        <div class="SeeAlso">
            <p><a href="https://community.cyberark.com/s/article/SCA-Common-FAQs">SCA Common FAQs in the CyberArk Technical Community</a>
            </p>
        </div>
    </body>
</html>